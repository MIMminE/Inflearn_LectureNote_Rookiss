# Section 2-8 함수

---

## **함수의 정의**

---

프로그램 시작을 의미하는 Main 에서 모든 코드를 작성하여 사용하면 코드가 길어짐에 따라 유지보수가 어려워진다. 

함수란 하나의 특별한 목적을 수행하기 위해 **독립적으로 설계된 프로그램 코드의 집합**이며, 이를 이용하여 기능들을 쪼개 설계한 이후 재조립하여 Main에 사용하는 것이 일반적인 방법이다.

```C#
Console.WriteLine("Hello");
// Console.WriteLine() 도 함수의 일종이다. 
// Console 이라고 하는 무언가의 내부에 존재하는 함수이며 C#에서는 메소드라는 이름으로 사용된다.
```

### **함수 설계 법칙**

> 1\. 클래스 내부에서 작성되어야 한다.  
> 2\. 한정자와 반환 형식, 함수의 이름을 적은 후, 매개변수가 있다면 매개변수를 작성한다.  
> 3\. 반환 형식에서는 기본 데이터 타입과 사용자 정의 타입들이 올 수 있고, void는 반환값이 없을 때 사용한다.  
> 4\. 설계한 함수를 사용할 곳에서 이름과 매개변수 입력을 통해 호출하여 사용한다.  
> 5\. 반환 형식이 있는 함수는 내부에서 return 키워드를 통해 결과를 반환해줘야 한다.

### **사용 예시**

```C#
static int Add(int a, int b) //int 타입으로 반환하는 함수 정의, 매개변수로 두 개의 int 입력
{
	int c = a + b;
    return c; // int 타입으로 반환
}

//static를 비롯한 한정자들은 추후에 배울 내용이므로, 여기서는 신경쓰지 않아도 된다.
```

```C#
static void Add(int a, int b) //반환하는 값이 없는 void 타입으로 설계
{
	int c = a + b;
    Console.WriteLine(c); //return 키워드를 사용할 수 없으므로 콘솔에 출력함으로 결과 확인
}
```

void 타입으로 선언하여 설계하면 return 키워드를 사용할 수 없으므로 함수를 호출한 곳에서 값을 돌려받아 사용할 수 없다. 그렇기에 결과 확인을 위해 보통 별도의 출력 형태를 가지게 되며, **참조 형태**로 매개변수들을 작성하여 메모리값에 직접적인 변화를 주는 방식으로도 사용하기도 한다.  
  
참조 형태란, 함수의 매개변수로 입력된 값의 실제 메모리로 이동하여 작업하게 되는 형태를 말한다.

### **복사와 참조**

설계된 함수를 사용하기 위해서 함수를 호출하여 매개변수를 입력할 때 기본적으로 **복사** 방식으로 값을 함수로 넘겨준다.

```C#
static int Add(int a, int b)
{ 
	a = a + b;
    return a;
}


int num1 = 100;
int num2 = 20;

int result = Add(num1, num2);

Console.WriteLine(num1); // 100 출력
Console.WriteLine(result); // 120출력
```

위의 코드를 보면, 함수를 사용하는 위치에서 변수 num1, num2를 함수의 매개변수로 입력하고 있다.

함수에서는 해당 값을 복사해서 각 a와 b에 복사하여 내부 로직을 수행하고 값을 반환한다.

함수 외부에서 입력으로 준 값을 복사하여 사용하는 개념이므로 실제 num1과 num2를 사용하는 것이 아니다.

로직상으로는 num1의 값을 변경해주는 부분이 있지만, 복사하여 다른 메모리에서 작업이 이뤄진 것이므로 

실제 num1은 변화가 없음을 확인할 수 있다.

함수의 매개변수 부분을 ref 라는 키워드를 이용하면 매개변수를 **참조 타입**으로 받아올 수 있다.

참조 타입을 이용하면 실제 매개변수의 메모리 주소를 이용하여 실제 저장되어 있는 값을 변경할 수 있게 된다.

```C#
void int Add(ref int a, ref int b)
{
	a = a + b;
}

int num1 = 10;
int num2 = 20;

Add(ref num1, ref num2);
//호출하는 부분에서도 ref 키워드를 사용해줘야한다.
```

> 인프런 Rookiss 강사님 로드맵 'C#과 유니티로 만드는 MMORPG 게임 개발 시리즈'에 대한 학습을 진행하면서 작성한 개인 기록용 강의노트입니다.