# Section 2-9 ref, out

---

## **복사와 참조**

---

함수를 호출하여 사용함에 있어 매개변수의 입력은 일반적으로 복사 방식으로 이뤄진다. (입력 변수의 값을 복사하여 사용)

ref 키워드를 사용하면 매개변수의 입력을 참조 방식으로 바꿔 사용할 수 있다. (입력 변수의 메모리 주소로 접근하여 사용)

```C#
static void AddOne(ref int number) //매개변수의 주소를 받아 해당 주소의 값에 직접 로직 수행
{
	number = number + 1; 
}

static int AddOne2(int number) //매개변수의 값만 복사하여 별도의 메모리 공간에서 로직 수행
{
	number = number + 1;
    return number;
}
```

> 복사와 참조 방식은 어떤 목적으로 함수를 설계함에 따라 선택 사항이기는 하지만, 일반적으로 복사 방식으로 사용하는 편이다. 이는 실제 값이 변하기 때문에 실수의 위험이 따르기 때문이다.

### 참조 방식을 사용하기 좋은 예

두 변수의 값을 서로의 값으로 변경하는 기능을 보통 swap이라 한다. 

swap같은 경우는 실제 값을 변경해줘야하기 때문에 참조 형식으로 설계하기 적합하다.

```C#
static void swap(ref int a, ref int b)
{
	int tmp = a;
    a = b; 
    b = tmp;
}
```

여러 개의 반환값을 얻고자 할때가 있다면 참조 방식을 사용하기 적합할 수 있다.

```C#
void Divide(int a, int b, out int c, out int d)
{
	c = a/b;
    d = a%b;
}
```

> out 키워드도 ref 키워드와 마찬가지로 매개변수를 참조 형식으로 받는다는 것을 의미하며 차이점은 다음과 같다.  
>   
> ref = 입력으로 주는 변수가 초기화되어 있어야 한다. (즉, 선언만 되어 있는 변수는 사용할 수 없다)  
> out = 입력으로 주는 변수가 초기화되어 있지 않아도 된다. (선언만 하고 값이 비어있어도 사용할 수 있다)  
>   
> 보통 out으로 반환하여 저장할 변수를 지정하여 마치 여러개의 값을 반환받는 효과를 낼 때 사용된다.

> 인프런 Rookiss 강사님 로드맵 'C#과 유니티로 만드는 MMORPG 게임 개발 시리즈'에 대한 학습을 진행하면서 작성한 개인 기록용 강의노트입니다.